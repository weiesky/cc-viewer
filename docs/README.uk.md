# CC-Viewer

Система моніторингу запитів для Claude Code, яка захоплює та візуалізує всі API-запити та відповіді в реальному часі. Допомагає розробникам відстежувати Context для перегляду та налагодження під час Vibe Coding.

[简体中文](../README.md) | [English](./README.en.md) | [繁體中文](./README.zh-TW.md) | [한국어](./README.ko.md) | [日本語](./README.ja.md) | [Deutsch](./README.de.md) | [Español](./README.es.md) | [Français](./README.fr.md) | [Italiano](./README.it.md) | [Dansk](./README.da.md) | [Polski](./README.pl.md) | [Русский](./README.ru.md) | [العربية](./README.ar.md) | [Norsk](./README.no.md) | [Português (Brasil)](./README.pt-BR.md) | [ไทย](./README.th.md) | [Türkçe](./README.tr.md)

## Використання

```bash
npm install -g cc-viewer
```

Після встановлення запустіть:

```bash
ccv
```

Ця команда автоматично налаштовує ваш локально встановлений Claude Code для моніторингу та додає hook автоматичного відновлення до конфігурації вашого shell (`~/.zshrc` або `~/.bashrc`). Потім використовуйте Claude Code як зазвичай та відкрийте `http://localhost:7008` у браузері для перегляду інтерфейсу моніторингу.

Після оновлення Claude Code ручні дії не потрібні — наступного разу, коли ви запустите `claude`, він автоматично виявить та повторно налаштує.

### Видалення

```bash
ccv --uninstall
```

## Можливості

### Моніторинг запитів (режим Raw)

- Захоплення всіх API-запитів від Claude Code в реальному часі, включаючи потокові відповіді
- Ліва панель показує метод запиту, URL, тривалість та код статусу
- Автоматично ідентифікує та позначає запити Main Agent та Sub Agent
- Права панель підтримує перемикання вкладок Request / Response
- Request Body розгортає `messages`, `system`, `tools` на один рівень за замовчуванням
- Response Body повністю розгорнутий за замовчуванням
- Перемикання між переглядом JSON та переглядом простого тексту
- Копіювання вмісту JSON одним кліком
- Запити MainAgent підтримують Body Diff JSON, відображаючи у згорнутому вигляді відмінності від попереднього запиту MainAgent (лише змінені/додані поля)

### Режим Chat

Натисніть кнопку "Режим Chat" у верхньому правому куті, щоб розібрати повну історію розмов Main Agent у інтерфейс чату:

- Повідомлення користувача вирівняні праворуч (сині бульбашки), відповіді Main Agent вирівняні ліворуч (темні бульбашки) з рендерингом Markdown
- Повідомлення `/compact` автоматично виявляються та відображаються згорнутими, натисніть для розгортання повного резюме
- Результати виклику інструментів відображаються inline у відповідному повідомленні Assistant
- Блоки `thinking` згорнуті за замовчуванням, натисніть для розгортання
- `tool_use` відображається як компактні картки виклику інструментів (Bash, Read, Edit, Write, Glob, Grep, Task мають окреме відображення)
- Повідомлення вибору користувача (AskUserQuestion) відображаються у форматі запитань та відповідей
- Теги системні (`<system-reminder>`, `<project-reminder>` тощо) автоматично згорнуті
- Текст системний автоматично фільтрується, показуючи лише реальне введення користувача
- Сегментоване відображення кількох session (автоматична сегментація після `/compact`, `/clear` тощо)
- Кожне повідомлення показує мітку часу з точністю до секунди

### Статистика Token

Панель при наведенні в області заголовка:

- Кількість Token, згрупована за моделлю (input/output)
- Кількість Cache creation/read та відсоток влучень cache
- Зворотний відлік закінчення терміну дії cache Main Agent

### Керування логами

Через випадаюче меню CC-Viewer у верхньому лівому куті:

- Імпорт локальних логів: перегляд файлів історичних логів, згрупованих за проєктом, відкривається в новому вікні
- Завантаження локального JSONL файлу: безпосередній вибір та завантаження локального файлу `.jsonl` (до 200МБ)
- Завантаження поточного логу: завантаження поточного файлу логу моніторингу JSONL
- Експорт промптів користувача: витягнення та відображення всіх введень користувача, з можливістю згортання system-reminder
- Експорт промптів у TXT: експорт промптів користувача в локальний файл `.txt`

### Багатомовна підтримка

CC-Viewer підтримує 18 мов, автоматично перемикаючись залежно від мови системи:

简体中文 | English | 繁體中文 | 한국어 | Deutsch | Español | Français | Italiano | Dansk | 日本語 | Polski | Русский | العربية | Norsk | Português (Brasil) | ไทย | Türkçe | Українська

## License

MIT
