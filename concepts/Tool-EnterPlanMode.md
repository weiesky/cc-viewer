# EnterPlanMode

## 定义

将 Claude Code 切换到规划模式，用于在实施前探索代码库并设计方案。

## 参数

无参数。

## 使用场景

**适合使用：**
- 新功能实现——需要架构决策
- 存在多种可行方案——需要用户选择
- 代码修改影响现有行为或结构
- 多文件变更——可能涉及 2-3 个以上文件
- 需求不明确——需要先探索再理解范围
- 用户偏好很重要——实现可以有多种合理方向

**不适合使用：**
- 单行或少量行的修复（拼写错误、明显 bug）
- 用户已给出非常具体的指令
- 纯研究/探索任务——应使用 Task（Explore 类型）

## 规划模式中的行为

进入规划模式后，Claude Code 会：
1. 使用 Glob、Grep、Read 工具深入探索代码库
2. 理解现有模式和架构
3. 设计实施方案
4. 将方案提交给用户审批
5. 如需澄清可使用 AskUserQuestion
6. 方案就绪后通过 ExitPlanMode 退出

## 注意事项

- 此工具需要用户同意才能进入规划模式
- 如果不确定是否需要规划，倾向于规划——提前对齐比返工好

## 在 cc-viewer 中的意义

EnterPlanMode 调用在请求日志中表现为 `tool_use` content block。进入规划模式后的请求序列通常以探索性工具调用（Glob、Grep、Read）为主，直到 ExitPlanMode 被调用。
